{"version":3,"sources":["webpack:///./src/pages/ChatHistory.vue?9bcb","webpack:///./src/configs/emoji.js?36a1*","webpack:///./src/pages/components/ChatList.vue?0a53*","webpack:///./src/pages/components/ChatList.vue?ee42**","webpack:///./src/pages/components/ChatList.vue?843b**","webpack:///./src/pages/components/ChatList.vue?0410**","webpack:///./src/pages/components/ChatList.vue?5cfa**","webpack:///./src/pages/ChatHistory.vue","webpack:///./src/pages/ChatHistory.vue?ceab","webpack:///./src/pages/ChatHistory.vue?d688","webpack:///./src/pages/ChatHistory.vue?9a9a"],"names":["emojiBaseUrl","emojiList","file","emoji","emojiItem","key","item","img","pinupList","i","props","type","String","canLoadMore","Boolean","rawMsg","Object","default","isRobot","msglist","Array","userInfos","myInfo","data","isFullImgShow","msgLoadedTimer","$store","state","haha","teacher_im","computed","robotInfos","beforeMount","assign","flow","content","msgOut","robotAccid","avatar","link","from","userUID","config","defaultUserIcon","showTime","util","formatDate","time","showText","text","escape","test","emojiItems","match","forEach","emojiCnt","emojiObj","replace","JSON","parse","resourceUrl","imgUrl","value","catalog","chartlet","parseCustomMsg","originLink","url","audioSrc","mp3Url","Math","round","dur","fileLink","name","generateChatroomSysMsg","tip","message","robotFlow","flag","subType","map","json","query","sort","a","b","score","mapMsgType","msg","mounted","$nextTick","media","Image","src","className","ext","document","createElement","width","height","autoStart","preload","controls","aLink","href","target","innerHTML","video","$refs","mediaMsg","appendChild","onload","$emit","onerror","methods","revocateMsg","vNode","currSessionId","attrs","that","$vux","confirm","show","title","onCancel","onConfirm","dispatch","idClient","sendRobotBlockMsg","originMsg","body","length","nick","scene","to","params","continueRobotMsg","showFullImg","msgLoaded","clearTimeout","setTimeout","getText","txt","clickExceptionalImg","playAudio","index","vm","myaudio","num","isplay","$set","pause","currentTime","play","onended","isRefresh","location","sessionId","getHistoryMsgs","updated","tempPagePos","pageUtil","getChatListHeight","scrollChatListDown","currPagePos","components","ChatList","leftBtnOptions","backText","preventGoBack","$route","sessionName","user","userInfo","getFriendAlias","msgs","currSessionMsgs","parseSession","noMoreHistoryMsgs","loadMore","getChatListScroll","onClickBack","window","history","go"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE;AACA;AACA;AACF;;AAEE,+DAAe;AACjB;AACA;AACA;AACIE,SAAO;AACLC,UAAMC,MADD,EACS;AACdC,iBAAa,CAACD,MAAD,EAASE,OAAT,CAFR;AAGLC,YAAQ;AACNJ,YAAMK,MADA;AAENC,aAFM,sBAEK;AACT,eAAO,EAAP;AACD;AAJK,KAHH;AASLC,aAAS;AACPP,YAAMG,OADC;AAEPG,aAFO,sBAEI;AACT,eAAO,KAAP;AACD;AAJM,KATJ;AAeLE,aAAS;AACPR,YAAMS,KADC;AAEPH,aAFO,sBAEI;AACT,eAAO,EAAP;AACD;AAJM,KAfJ;AAqBLI,eAAW;AACTV,YAAMK,MADG;AAETC,aAFS,sBAEE;AACT,eAAO,EAAP;AACD;AAJQ,KArBN;AA2BLK,YAAQ;AACNX,YAAMK,MADA;AAENC,aAFM,sBAEK;AACT,eAAO,EAAP;AACD;AAJK;AAMR;AACA;AACA;AACA;AACA;AACA;AAtCK,GAJM;AA4CbM,MA5Ca,kBA4CL;AAAA;;AACN;AACEC,qBAAe,KADjB;AAEEC,sBAAgB;;AAFlB,8CAIiB,KAJjB,yCAKgB,IALh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;;AAE5mF;;;;;;;;;;;;;ACPA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACzOA;;AAEA;AACA,wSAAgN;AAChN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0IAA0I,qEAAqE;AAC/M,mJAAmJ,qEAAqE;AACxN;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;;;;;;;ACnBA;AACA,mSAAiL;;AAEjL;AACA;AACA;AACA;AACA,8RAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;;;;;;;AC/BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+DAAe;AACbS,aADa,yBACE;AACb;AACA,QAAI,KAAKN,MAAL,CAAYC,KAAZ,CAAkBiI,SAAtB,EAAiC;AAC/BC,eAASpD,IAAT,eAA0B,KAAKqD,SAA/B;AACD;AACF,GANY;AAObpE,SAPa,qBAOF;AACT,SAAKhE,MAAL,CAAYqG,QAAZ,CAAqB,wBAArB;AACA,SAAKgC,cAAL;AACD,GAVY;AAWbC,SAXa,qBAWF;AACT,QAAIC,cAAc,mDAAAC,CAASC,iBAAT,EAAlB;AACAD,IAAA,mDAAAA,CAASE,kBAAT,CAA4BH,cAAc,KAAKI,WAA/C;AACA,SAAKA,WAA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","file":"3.js","sourcesContent":["\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-4c34d660\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatHistory.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatHistory.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c34d660\\\"}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatHistory.vue\"),\n  /* scopeId */\n  \"data-v-4c34d660\",\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"D:\\\\yotta\\\\college\\\\public_html\\\\assets\\\\yunxin\\\\src\\\\pages\\\\ChatHistory.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] ChatHistory.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4c34d660\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4c34d660\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/ChatHistory.vue\n// module id = 312\n// module chunks = 3","/* 表情原图配置文件 */\nimport config from './index'\n\nlet emojiBaseUrl = `http://yx-web.nosdn.127.net/webdoc/h5/emoji`\n\nlet emojiList = {\n  \"emoji\": {\n    \"[大笑]\":{file:\"emoji_0.png\"},\"[可爱]\":{file:\"emoji_01.png\"},\"[色]\":{file:\"emoji_02.png\"},\"[嘘]\":{file:\"emoji_03.png\"},\"[亲]\":{file:\"emoji_04.png\"},\"[呆]\":{file:\"emoji_05.png\"},\"[口水]\":{file:\"emoji_06.png\"},\"[汗]\":{file:\"emoji_145.png\"},\"[呲牙]\":{file:\"emoji_07.png\"},\"[鬼脸]\":{file:\"emoji_08.png\"},\"[害羞]\":{file:\"emoji_09.png\"},\"[偷笑]\":{file:\"emoji_10.png\"},\"[调皮]\":{file:\"emoji_11.png\"},\"[可怜]\":{file:\"emoji_12.png\"},\"[敲]\":{file:\"emoji_13.png\"},\"[惊讶]\":{file:\"emoji_14.png\"},\"[流感]\":{file:\"emoji_15.png\"},\"[委屈]\":{file:\"emoji_16.png\"},\"[流泪]\":{file:\"emoji_17.png\"},\"[嚎哭]\":{file:\"emoji_18.png\"},\"[惊恐]\":{file:\"emoji_19.png\"},\"[怒]\":{file:\"emoji_20.png\"},\"[酷]\":{file:\"emoji_21.png\"},\"[不说]\":{file:\"emoji_22.png\"},\"[鄙视]\":{file:\"emoji_23.png\"},\"[阿弥陀佛]\":{file:\"emoji_24.png\"},\"[奸笑]\":{file:\"emoji_25.png\"},\"[睡着]\":{file:\"emoji_26.png\"},\"[口罩]\":{file:\"emoji_27.png\"},\"[努力]\":{file:\"emoji_28.png\"},\"[抠鼻孔]\":{file:\"emoji_29.png\"},\"[疑问]\":{file:\"emoji_30.png\"},\"[怒骂]\":{file:\"emoji_31.png\"},\"[晕]\":{file:\"emoji_32.png\"},\"[呕吐]\":{file:\"emoji_33.png\"},\"[拜一拜]\":{file:\"emoji_160.png\"},\"[惊喜]\":{file:\"emoji_161.png\"},\"[流汗]\":{file:\"emoji_162.png\"},\"[卖萌]\":{file:\"emoji_163.png\"},\"[默契眨眼]\":{file:\"emoji_164.png\"},\"[烧香拜佛]\":{file:\"emoji_165.png\"},\"[晚安]\":{file:\"emoji_166.png\"},\"[强]\":{file:\"emoji_34.png\"},\"[弱]\":{file:\"emoji_35.png\"},\"[OK]\":{file:\"emoji_36.png\"},\"[拳头]\":{file:\"emoji_37.png\"},\"[胜利]\":{file:\"emoji_38.png\"},\"[鼓掌]\":{file:\"emoji_39.png\"},\"[握手]\":{file:\"emoji_200.png\"},\"[发怒]\":{file:\"emoji_40.png\"},\"[骷髅]\":{file:\"emoji_41.png\"},\"[便便]\":{file:\"emoji_42.png\"},\"[火]\":{file:\"emoji_43.png\"},\"[溜]\":{file:\"emoji_44.png\"},\"[爱心]\":{file:\"emoji_45.png\"},\"[心碎]\":{file:\"emoji_46.png\"},\"[钟情]\":{file:\"emoji_47.png\"},\"[唇]\":{file:\"emoji_48.png\"},\"[戒指]\":{file:\"emoji_49.png\"},\"[钻石]\":{file:\"emoji_50.png\"},\"[太阳]\":{file:\"emoji_51.png\"},\"[有时晴]\":{file:\"emoji_52.png\"},\"[多云]\":{file:\"emoji_53.png\"},\"[雷]\":{file:\"emoji_54.png\"},\"[雨]\":{file:\"emoji_55.png\"},\"[雪花]\":{file:\"emoji_56.png\"},\"[爱人]\":{file:\"emoji_57.png\"},\"[帽子]\":{file:\"emoji_58.png\"},\"[皇冠]\":{file:\"emoji_59.png\"},\"[篮球]\":{file:\"emoji_60.png\"},\"[足球]\":{file:\"emoji_61.png\"},\"[垒球]\":{file:\"emoji_62.png\"},\"[网球]\":{file:\"emoji_63.png\"},\"[台球]\":{file:\"emoji_64.png\"},\"[咖啡]\":{file:\"emoji_65.png\"},\"[啤酒]\":{file:\"emoji_66.png\"},\"[干杯]\":{file:\"emoji_67.png\"},\"[柠檬汁]\":{file:\"emoji_68.png\"},\"[餐具]\":{file:\"emoji_69.png\"},\"[汉堡]\":{file:\"emoji_70.png\"},\"[鸡腿]\":{file:\"emoji_71.png\"},\"[面条]\":{file:\"emoji_72.png\"},\"[冰淇淋]\":{file:\"emoji_73.png\"},\"[沙冰]\":{file:\"emoji_74.png\"},\"[生日蛋糕]\":{file:\"emoji_75.png\"},\"[蛋糕]\":{file:\"emoji_76.png\"},\"[糖果]\":{file:\"emoji_77.png\"},\"[葡萄]\":{file:\"emoji_78.png\"},\"[西瓜]\":{file:\"emoji_79.png\"},\"[光碟]\":{file:\"emoji_80.png\"},\"[手机]\":{file:\"emoji_81.png\"},\"[电话]\":{file:\"emoji_82.png\"},\"[电视]\":{file:\"emoji_83.png\"},\"[声音开启]\":{file:\"emoji_84.png\"},\"[声音关闭]\":{file:\"emoji_85.png\"},\"[铃铛]\":{file:\"emoji_86.png\"},\"[锁头]\":{file:\"emoji_87.png\"},\"[放大镜]\":{file:\"emoji_88.png\"},\"[灯泡]\":{file:\"emoji_89.png\"},\"[锤头]\":{file:\"emoji_90.png\"},\"[烟]\":{file:\"emoji_91.png\"},\"[炸弹]\":{file:\"emoji_92.png\"},\"[枪]\":{file:\"emoji_93.png\"},\"[刀]\":{file:\"emoji_94.png\"},\"[药]\":{file:\"emoji_95.png\"},\"[打针]\":{file:\"emoji_96.png\"},\"[钱袋]\":{file:\"emoji_97.png\"},\"[钞票]\":{file:\"emoji_98.png\"},\"[银行卡]\":{file:\"emoji_99.png\"},\"[手柄]\":{file:\"emoji_100.png\"},\"[麻将]\":{file:\"emoji_101.png\"},\"[调色板]\":{file:\"emoji_102.png\"},\"[电影]\":{file:\"emoji_103.png\"},\"[麦克风]\":{file:\"emoji_104.png\"},\"[耳机]\":{file:\"emoji_105.png\"},\"[音乐]\":{file:\"emoji_106.png\"},\"[吉他]\":{file:\"emoji_107.png\"},\"[火箭]\":{file:\"emoji_108.png\"},\"[飞机]\":{file:\"emoji_109.png\"},\"[火车]\":{file:\"emoji_110.png\"},\"[公交]\":{file:\"emoji_111.png\"},\"[轿车]\":{file:\"emoji_112.png\"},\"[出租车]\":{file:\"emoji_113.png\"},\"[警车]\":{file:\"emoji_114.png\"},\"[自行车]\":{file:\"emoji_115.png\"}\n  }\n}\n\nfor (let emoji in emojiList) {\n  let emojiItem = emojiList[emoji]\n  for (let key in emojiItem) {\n    let item = emojiItem[key]\n    item.img = `${emojiBaseUrl}/${emoji}/${item.file}`\n  }\n}\n\nlet pinupList = {\n  'ajmd':{},\n  'xxy': {},\n  'lt': {}\n}\n\nfor (let i = 1; i <= 48; i++) {\n  let key = 'ajmd0'+ (i >= 10 ? i: '0' + i)\n  pinupList['ajmd'][key] = {file: key + '.png'}\n}\nfor (let i = 1; i <= 40; i++) {\n  let key = 'xxy0'+ (i >= 10 ? i: '0' + i)\n  pinupList['xxy'][key] = {file: key + '.png'}\n}\nfor (let i = 1; i <= 20; i++) {\n  let key = 'lt0'+ (i >= 10 ? i: '0' + i)\n  pinupList['lt'][key] = {file: key + '.png'}\n}\n\nfor (let emoji in pinupList) {\n  let emojiItem = pinupList[emoji]\n  for (let key in emojiItem) {\n    let item = emojiItem[key]\n    item.img = `${emojiBaseUrl}/${emoji}/${item.file}`\n  }\n}\n\nexport default {\n  emojiList,\n  pinupList\n}\n\n\n// WEBPACK FOOTER //\n// ./src/configs/emoji.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  import util from '../../utils'\n  import config from '../../configs'\n  import emojiObj from '../../configs/emoji'\n//import ChatItem from './ChatItem'\n\n  export default {\n//  components: {\n//    ChatItem\n//  },\n    props: {\n      type: String, // 类型，chatroom, session\n      canLoadMore: [String, Boolean],\n      rawMsg: {\n        type: Object,\n        default () {\n          return {}\n        }\n      },\n      isRobot: {\n        type: Boolean,\n        default () {\n          return false\n        }\n      },\n      msglist: {\n        type: Array,\n        default () {\n          return []\n        }\n      },\n      userInfos: {\n        type: Object,\n        default () {\n          return {}\n        }\n      },\n      myInfo: {\n        type: Object,\n        default () {\n          return {}\n        }\n      },\n      // robotInfos: {\n      //   type: Object,\n      //   default () {\n      //     return {}\n      //   }\n      // }\n    },\n    data () {\n      return {\n        isFullImgShow: false,\n        msgLoadedTimer: null,\n\n        isFullImgShow: false,\n        currentAudio: null,\n        page_showAudio: true,\n        teacherId: this.$store.state.haha.teacher_im,\n        showScrollBox: false\n      }\n    },\n    computed: {\n      robotInfos () {\n        return this.$store.state.robotInfos\n      }\n    },\n    beforeMount () {\n      let item = Object.assign({}, this.rawMsg)\n      // 标记用户，区分聊天室、普通消息\n      if (this.type === 'session') {\n        if (item.flow === 'in') {\n          if (item.type === 'robot' && item.content && item.content.msgOut) {\n            // 机器人下行消息\n            let robotAccid = item.content.robotAccid\n            item.avatar = this.robotInfos[robotAccid].avatar\n            item.isRobot = true\n            item.link = `#/namecard/${robotAccid}`\n          } else if (item.from !== this.$store.state.userUID) {\n            item.avatar = (this.userInfos[item.from] && this.userInfos[item.from].avatar) || config.defaultUserIcon\n            item.link = `#/namecard/${item.from}`\n          } else {\n            item.avatar = this.myInfo.avatar\n          }\n        } else if (item.flow === 'out') {\n          item.avatar = this.myInfo.avatar\n        }\n      } else {\n        // 标记时间，聊天室中\n        item.showTime = util.formatDate(item.time)\n      }\n      if (item.type === 'timeTag') {\n        // 标记发送的时间\n        item.showText = item.text\n      } else if (item.type === 'text') {\n        // 文本消息\n        item.showText = util.escape(item.text)\n        if (/\\[[^\\]]+\\]/.test(item.showText)) {\n          let emojiItems = item.showText.match(/\\[[^\\]]+\\]/g)\n          emojiItems.forEach(text => {\n            let emojiCnt = emojiObj.emojiList.emoji\n            if (emojiCnt[text]) {\n              item.showText = item.showText.replace(text, `<img class=\"emoji-small\" src=\"${emojiCnt[text].img}\">`)\n            }\n          })\n        }\n      } else if (item.type === 'custom') {\n        let content = JSON.parse(item.content)\n        // type 1 为猜拳消息\n        if (content.type === 1) {\n          let data = content.data\n          let resourceUrl = config.resourceUrl\n          // item.showText = `<img class=\"emoji-middle\" src=\"${resourceUrl}/im/play-${data.value}.png\">`\n          item.type = 'custom-type1'\n          item.imgUrl = `${resourceUrl}/im/play-${data.value}.png`\n        // type 3 为贴图表情\n        } else if (content.type === 3) {\n          let data = content.data\n          let emojiCnt = ''\n          if (emojiObj.pinupList[data.catalog]) {\n            emojiCnt = emojiObj.pinupList[data.catalog][data.chartlet]\n            // item.showText = `<img class=\"emoji-big\" src=\"${emojiCnt.img}\">`\n            item.type = 'custom-type3'\n            item.imgUrl = `${emojiCnt.img}`\n          }\n        } else {\n          item.showText = util.parseCustomMsg(item)\n          if (item.showText !== '[自定义消息]') {\n            item.showText += ',请到手机或电脑客户端查看'\n          }\n        }\n      } else if (item.type === 'image') {\n        // 原始图片全屏显示\n        item.originLink = item.file.url\n      } else if (item.type === 'video') {\n        // ...\n      } else if (item.type === 'audio') {\n        item.audioSrc = item.file.mp3Url\n        item.showText = Math.round(item.file.dur / 1000) + '\" 点击播放'\n      } else if (item.type === 'file') {\n        item.fileLink = item.file.url\n        item.showText = item.file.name\n      } else if (item.type === 'notification') {\n        //对于系统通知，更新下用户信息的状态\n        item.showText = util.generateChatroomSysMsg(item)\n      } else if (item.type === 'tip') {\n        //对于系统通知，更新下用户信息的状态\n        item.showText = item.tip\n      } else if (item.type === 'robot') {\n        let content = item.content || {}\n        let message = content.message || []\n        if (!content.msgOut) {\n          // 机器人上行消息\n          item.robotFlow = 'out'\n          item.showText = item.text\n        } else if (content.flag === 'bot') {\n          item.subType = 'bot'\n          message = message.map(item => {\n            if (item.type === 'template') {\n              // 在vuex(store/actions/msgs.js)中已调用sdk方法做了转换\n              return item.content.json\n            } else if (item.type === 'text' || item.type === 'answer') {\n              // 保持跟template结构一致\n              return [{\n                type: 'text',\n                text: item.content\n              }]\n            } else if (item.type === 'image') {\n              // 保持跟template结构一致\n              return [{\n                type: 'image',\n                url: item.content\n              }]\n            }\n          })\n          item.message = message\n        } else if (item.content.flag === 'faq') {\n          item.subType = 'faq'\n          item.query = message.query\n          let match = message.match.sort((a, b) => {\n            // 返回最匹配的答案\n            return b.score - a.score\n          })\n          item.message = match[0]\n        }\n      } else {\n        item.showText = `[${util.mapMsgType(item)}],请到手机或电脑客户端查看`\n      }\n      this.msg = item\n    },\n    mounted () {\n      let item = this.msg\n      // 有时序问题的操作\n      this.$nextTick(() => {\n        let media = null\n        if (item.type === 'image') {\n          // 图片消息缩略图\n          media = new Image()\n          media.src = item.file.url + '?imageView&thumbnail=180x0&quality=85'\n        } else if (item.type === 'custom-type1') {\n          // 猜拳消息\n          media = new Image()\n          media.className = 'emoji-middle'\n          media.src = item.imgUrl\n        } else if (item.type === 'custom-type3') {\n          // 贴图表情\n          media = new Image()\n          media.className = 'emoji-big'\n          media.src = item.imgUrl\n        } else if (item.type === 'video') {\n          if (/(mov|mp4|ogg|webm)/i.test(item.file.ext)) {\n            media = document.createElement('video')\n            media.src = item.file.url\n            media.width = 640\n            media.height = 480\n            media.autoStart = false\n            media.preload = 'metadata'\n            media.controls = 'controls'\n          } else {\n            let aLink = document.createElement('a')\n            aLink.href = item.file.url\n            aLink.target = '_blank'\n            aLink.innerHTML = `<i class=\"u-icon icon-file\"></i>${video.name}`\n            this.$refs.mediaMsg.appendChild(aLink)\n          }\n        }\n        if (media) {\n          if (this.$refs.mediaMsg) {\n            this.$refs.mediaMsg.appendChild(media)\n          }\n          media.onload = () => {\n            this.$emit('msg-loaded')\n          }\n          media.onerror = () => {\n            this.$emit('msg-loaded')\n          }\n        } else {\n          this.$emit('msg-loaded')\n        }\n      }) // end this.nextTick\n\n    },\n    methods: {\n    \trevocateMsg (vNode) {\n        // 在会话聊天页\n        if (this.$store.state.currSessionId) {\n          if (vNode && vNode.data && vNode.data.attrs) {\n            let attrs = vNode.data.attrs\n            if (attrs.type === 'robot') {\n              return\n            }\n            // 自己发的消息\n            if (attrs.flow === 'out') {\n              let that = this\n              this.$vux.confirm.show({\n                title: '确定需要撤回消息',\n                onCancel () {\n                },\n                onConfirm () {\n                  that.$store.dispatch('revocateMsg', {\n                    idClient: attrs.idClient\n                  })\n                }\n              })\n            }\n          }\n        }\n      },\n      sendRobotBlockMsg (msg, originMsg) {\n        let body = '[复杂按钮模板触发消息]'\n        if (msg.text && msg.text.length === 1) {\n          body = msg.text[0].text\n        }\n        let robotAccid = originMsg.content.robotAccid\n        if (!this.isRobot) {\n          body = `@${this.robotInfos[robotAccid].nick} ${body}`\n        }\n        if (this.type === 'session') {\n          this.$store.dispatch('sendRobotMsg', {\n            type: 'link',\n            scene: originMsg.scene,\n            to: originMsg.to,\n            robotAccid,\n            // 机器人后台消息\n            params: msg.params,\n            target: msg.target,\n            // 显示的文本消息\n            body\n          })\n        } else if (this.type === 'chatroom') {\n          this.$store.dispatch('sendChatroomRobotMsg', {\n            type: 'link',\n            robotAccid,\n            // 机器人后台消息\n            params: msg.params,\n            target: msg.target,\n            // 显示的文本消息\n            body\n          })\n        }\n      },\n      continueRobotMsg (robotAccid) {\n        this.$store.dispatch('continueRobotMsg', robotAccid)\n      },\n      showFullImg (src) {\n        this.$store.dispatch('showFullscreenImg', {\n          src\n        })\n      },\n      msgLoaded () {\n        clearTimeout(this.msgLoadedTimer)\n        this.msgLoadedTimer = setTimeout(() => {\n          this.$emit('msgs-loaded')\n        }, 20)\n      },\n      getText(txt){\n      \treturn util.generateChatroomSysMsg(txt);\n      },\n      clickExceptionalImg () {\n        this.$store.dispatch('addshowScrollBox',true)\n     \t},\n      // 语音播放\n      playAudio (src,data,index) {\n      \tlet vm = this;\n      \tlet myaudio = vm.$refs.myaudio\n      \tmyaudio.src = src\n      \tvm.msglist.forEach(function(item,num){\n      \t\tif(num == index){\n      \t\t\tif(typeof data.isplay == 'undefined' || !data.isplay){\n\t\t      \t\tvm.$set(item.file,'isplay',false)\n\t\t      \t}\n      \t\t}else{\n      \t\t\tif(item.file){\n      \t\t\t\tvm.$set(item.file,'isplay',false)\n      \t\t\t}\n      \t\t}\n      \t})\n\n      \tif (data.isplay) {\n          vm.$set(data,'isplay',false)\n          myaudio.pause()\n          myaudio.currentTime = 0.0\n\n        }else{\n          vm.$set(data,'isplay',true)\n          myaudio.play()\n        }\n\n      \tmyaudio.onended = () => {\n      \t\tvm.$set(data,'isplay',false)\n        }\n\n//      var vm = this;\n//      if(!data.ispaused){\n//        vm.$set(data,'ispaused',false)\n//        console.log(data)\n//      }else{\n//\n//        data.ispaused = !data.ispaused\n//        this.currentAudio.pause()\n//        console.log(data.ispaused)\n//      }\n//\n//      if (this.currentAudio) {\n//    \t\tif (!this.currentAudio.paused) {\n//    \t\t\tthis.currentAudio.pause()\n//    \t\t}\n//    \t} else {\n//    \t\tthis.currentAudio = new Audio()\n//    \t}\n//\n//    \tif (!this.currentAudio) {\n//    \t\tthis.currentAudio = new Audio()\n//    \t}\n//    \tthis.currentAudio.src = src\n//\n//       if(!data.ispaused){\n//          this.currentAudio.play()\n//          vm.$set(data,'ispaused',true)\n//       }else{\n//\n//       }\n//\n//    \tvar mp3 = document.getElementsByClassName(\"mp3_url\");\n//    \tvar j = 0;\n//    \tfor(var i = 0; i < mp3.length; i++){\n//    \t\tif(src == mp3[i].value){\n//    \t\t\tmp3[i].nextElementSibling.style.display = \"inline\";\n//    \t\t\tj = i;\n//\n//    \t\t}else{\n//    \t\t\tmp3[i].nextElementSibling.style.display = \"none\";\n//        }\n//      }\n//\n//    \tthis.currentAudio.onended = () => {\n//        mp3[j].nextElementSibling.style.display = \"none\";\n//        vm.$set(data,'ispaused',false)\n//\t\t\t\t}\n\n    \t}\n\n    }\n  }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/components/ChatList.vue","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.p-chat-list .u-icon {\\n  width: 1.4rem;\\n  height: 1.6rem;\\n  margin-right: 0.2rem;\\n  vertical-align: bottom;\\n}\\n.p-chat-history .u-msg .msg-link {\\n  display: none;\\n}\\n.p-room-chat-list .u-msg .msg-text {\\n  max-width: 50%;\\n}\\n.p-room-chat-list .u-msg .msg-link {\\n  bottom: 0;\\n  right: -4rem;\\n  font-size: 0.9rem;\\n}\\n.page_qrCode{\\n  width: 260px;\\n}\\n.page_voice{\\n  width: 20px;\\n}\\n.exceptionalImg{\\n\\twidth: 25px;\\n\\theight: 25px;\\n\\tposition: absolute;\\n\\ttop: 48px;\\n\\tleft: 5px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/yotta/college/public_html/assets/yunxin/src/pages/components/ChatList.vue\"],\"names\":[],\"mappings\":\";AAmjBE;EACE,cAAc;EACd,eAAe;EACf,qBAAqB;EACrB,uBAAuB;CACxB;AAIC;EACE,cAAc;CACf;AAKD;EACE,eAAe;CAChB;AACD;EACE,UAAU;EACV,aAAa;EACb,kBAAkB;CACnB;AAGL;EACE,aAAa;CAEd;AACD;EACE,YAAY;CACb;AAGD;CACC,YAAY;CACZ,aAAa;CACb,mBAAmB;CACnB,UAAU;CACV,UAAU;CACV\",\"file\":\"ChatList.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.p-chat-list {\\n  .u-icon {\\n    width: 1.4rem;\\n    height: 1.6rem;\\n    margin-right: 0.2rem;\\n    vertical-align: bottom;\\n  }\\n}\\n.p-chat-history {\\n  .u-msg {\\n    .msg-link {\\n      display: none;\\n    }\\n  }\\n}\\n.p-room-chat-list {\\n  .u-msg {\\n    .msg-text {\\n      max-width: 50%;\\n    }\\n    .msg-link {\\n      bottom: 0;\\n      right: -4rem;\\n      font-size: 0.9rem;\\n    }\\n  }\\n}\\n.page_qrCode{\\n  width: 260px;\\n\\n}\\n.page_voice{\\n  width: 20px;\\n}\\n\\n\\n.exceptionalImg{\\n\\twidth: 25px;\\n\\theight: 25px;\\n\\tposition: absolute;\\n\\ttop: 48px;\\n\\tleft: 5px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-a2403f3a\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/components/ChatList.vue\n// module id = 366\n// module chunks = 0 1 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', {\n    staticClass: \"m-chat-list p-chat-list\",\n    attrs: {\n      \"id\": \"chat-list\"\n    }\n  }, [(_vm.canLoadMore) ? _c('li', {\n    staticClass: \"u-msg item-time\"\n  }, [_vm._v(\"\\n      ---- 上拉加载更多 ----\\n    \")]) : _c('li', {\n    staticClass: \"u-msg item-time\"\n  }, [_vm._v(\"\\n      ---- 已无更多记录 ----\\n    \")]), _vm._v(\" \"), _vm._l((_vm.msglist), function(msg, index) {\n    return _c('li', {\n      key: msg.idClient,\n      staticClass: \"u-msg item-you\",\n      class: {\n        'item-time': msg.type === 'timeTag',\n          'item-tip': msg.type === 'tip',\n          'session-chat': _vm.type === 'session',\n          'item-img': msg.type === 'images'\n      },\n      attrs: {\n        \"type\": _vm.type,\n        \"rawMsg\": msg,\n        \"isRobot\": _vm.isRobot,\n        \"userInfos\": _vm.userInfos,\n        \"myInfo\": _vm.myInfo\n      },\n      on: {\n        \"msg-loaded\": _vm.msgLoaded\n      }\n    }, [(msg.type === 'timeTag') ? _c('div', [_vm._v(\"---- \" + _vm._s(msg.text) + \" ----\")]) : (msg.type === 'tip') ? _c('div', {\n      staticClass: \"tip\"\n    }, [_vm._v(_vm._s(msg.tip))]) : (msg.from == _vm.teacherId) ? _c('div', {\n      directives: [{\n        name: \"touch\",\n        rawName: \"v-touch:hold\",\n        value: (_vm.revocateMsg),\n        expression: \"revocateMsg\",\n        arg: \"hold\"\n      }],\n      attrs: {\n        \"idClient\": msg.idClient,\n        \"time\": msg.time,\n        \"flow\": msg.flow,\n        \"type\": msg.type\n      }\n    }, [(msg.avatar) ? _c('a', {\n      staticClass: \"msg-head\",\n      attrs: {\n        \"href\": msg.link\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": msg.avatar\n      }\n    })]) : (msg.type !== 'notification') ? _c('p', {\n      staticClass: \"msg-user\"\n    }, [(msg.fromAvatar !== '') ? _c('span', {\n      staticClass: \"page_msgMe\"\n    }, [_c('img', {\n      staticClass: \"myItem-me\",\n      staticStyle: {\n        \"width\": \"45px\",\n        \"height\": \"45px\",\n        \"border-radius\": \"100%\"\n      },\n      attrs: {\n        \"src\": msg.fromAvatar,\n        \"alt\": \"\"\n      }\n    }), _vm._v(\" \"), _c('img', {\n      staticClass: \"exceptionalImg\",\n      attrs: {\n        \"src\": \"http://college.m-fyd.com/assets/yunxin/res/im/exceptional.png\",\n        \"alt\": \"\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.clickExceptionalImg()\n        }\n      }\n    })]) : _vm._e(), _vm._v(\" \"), (msg.fromAvatar === '') ? _c('span', {\n      staticClass: \"page_msgMe\"\n    }, [_c('img', {\n      staticClass: \"myItem-me\",\n      staticStyle: {\n        \"width\": \"45px\",\n        \"height\": \"45px\",\n        \"border-radius\": \"100%\"\n      },\n      attrs: {\n        \"src\": \"http://college.m-fyd.com/assets/yunxin/res/im/tourists.png\",\n        \"alt\": \"\"\n      }\n    })]) : _vm._e(), _vm._v(\" \"), _c('span', {\n      staticClass: \"msg-dateOfName\"\n    }, [_c('em', [_vm._v(_vm._s(msg.showTime))]), _vm._v(_vm._s(msg.fromNick))])]) : _vm._e(), _vm._v(\" \"), (msg.type === 'text') ? _c('span', {\n      staticClass: \"msg-text\",\n      domProps: {\n        \"innerHTML\": _vm._s(msg.text)\n      }\n    }) : (msg.type === 'custom-type1') ? _c('span', {\n      ref: \"mediaMsg\",\n      refInFor: true,\n      staticClass: \"msg-text\"\n    }) : (msg.type === 'custom-type3') ? _c('span', {\n      ref: \"mediaMsg\",\n      refInFor: true,\n      staticClass: \"msg-text\"\n    }) : (msg.type === 'image') ? _c('span', {\n      ref: \"mediaMsg\",\n      refInFor: true,\n      staticClass: \"msg-text\",\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.showFullImg(msg.file.url)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": msg.file.url\n      }\n    })]) : (msg.type === 'video') ? _c('span', {\n      ref: \"mediaMsg\",\n      refInFor: true,\n      staticClass: \"msg-text\"\n    }) : (msg.type === 'audio') ? _c('span', {\n      staticClass: \"msg-text msg-audio\",\n      attrs: {\n        \"id\": \"msg-audio\"\n      },\n      on: {\n        \"click\": function($event) {\n          $event.preventDefault();\n          _vm.playAudio(msg.file.mp3Url, msg.file, index)\n        }\n      }\n    }, [_c('span', {\n      directives: [{\n        name: \"show\",\n        rawName: \"v-show\",\n        value: (_vm.page_showAudio),\n        expression: \"page_showAudio\"\n      }]\n    }, [_vm._v(_vm._s(Math.round(msg.file.dur / 1000) + '\" 点击播放'))]), _vm._v(\" \"), (msg.file.isplay) ? _c('img', {\n      staticClass: \"page_voice\",\n      attrs: {\n        \"id\": \"page_voice\",\n        \"src\": \"http://college.m-fyd.com/assets/yunxin/res/im/voiceSpeaker.gif\"\n      }\n    }) : _vm._e()]) : (msg.type === 'file') ? _c('span', {\n      staticClass: \"msg-text\"\n    }, [_c('a', {\n      attrs: {\n        \"href\": msg.fileLink,\n        \"target\": \"_blank\"\n      }\n    }, [_c('i', {\n      staticClass: \"u-icon icon-file\"\n    }), _vm._v(\"\\n\\t          \" + _vm._s(msg.file.name) + \"\\n\\t        \")])]) : (msg.type === 'robot') ? _c('span', {\n      staticClass: \"msg-text\",\n      class: {\n        'msg-robot': msg.robotFlow !== 'out' && !_vm.isRobot\n      }\n    }, [(msg.robotFlow === 'out') ? _c('div', [_vm._v(_vm._s(msg.text))]) : (msg.subType === 'bot') ? _c('div', _vm._l((msg.message), function(tmsgs) {\n      return _c('div', _vm._l((tmsgs), function(tmsg) {\n        return _c('div', [(tmsg.type === 'text') ? _c('div', [_c('p', [_vm._v(_vm._s(tmsg.text))])]) : (tmsg.type === 'image') ? _c('div', [_c('p', [_c('img', {\n          attrs: {\n            \"src\": tmsg.url\n          }\n        })])]) : (tmsg.type === 'url') ? _c('div', [_c('a', {\n          class: tmsg.style,\n          attrs: {\n            \"href\": tmsg.target,\n            \"target\": \"_blank\"\n          }\n        }, [(tmsg.image) ? _c('div', _vm._l((tmsg.image), function(tmsg2) {\n          return _c('p', [_c('img', {\n            attrs: {\n              \"src\": tmsg2.url\n            }\n          })])\n        })) : _vm._e(), _vm._v(\" \"), (tmsg.text) ? _c('div', _vm._l((tmsg.text), function(tmsg2) {\n          return _c('p', [_vm._v(_vm._s(tmsg2.text))])\n        })) : _vm._e()])]) : (tmsg.type === 'block') ? _c('div', [_c('a', {\n          class: tmsg.style,\n          attrs: {\n            \"params\": tmsg.params,\n            \"target\": tmsg.target\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.sendRobotBlockMsg(tmsg, msg)\n            }\n          }\n        }, [(tmsg.image) ? _c('div', _vm._l((tmsg.image), function(tmsg2) {\n          return _c('p', [_c('img', {\n            attrs: {\n              \"src\": tmsg2.url\n            }\n          })])\n        })) : _vm._e(), _vm._v(\" \"), (tmsg.text) ? _c('div', _vm._l((tmsg.text), function(tmsg2) {\n          return _c('p', [_vm._v(_vm._s(tmsg2.text))])\n        })) : _vm._e()])]) : _vm._e()])\n      }))\n    })) : (msg.subType === 'faq') ? _c('div', [_c('p', [_vm._v(_vm._s(msg.message.answer))])]) : _vm._e(), _vm._v(\" \"), (msg.robotFlow !== 'out' && !_vm.isRobot) ? _c('span', {\n      staticClass: \"msg-link\"\n    }, [_c('a', {\n      staticClass: \"link-right\",\n      on: {\n        \"click\": function($event) {\n          _vm.continueRobotMsg(msg.content.robotAccid)\n        }\n      }\n    }, [_vm._v(\"继续对话\")])]) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (msg.status === 'fail') ? _c('span', {\n      staticClass: \"msg-failed\"\n    }, [_c('i', {\n      staticClass: \"weui-icon-warn\"\n    })]) : _vm._e()]) : _vm._e()])\n  }), _vm._v(\" \"), _c('audio', {\n    ref: \"myaudio\",\n    staticStyle: {\n      \"opacity\": \"0\"\n    }\n  }, [_c('source')])], 2)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-a2403f3a\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-a2403f3a\"}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/components/ChatList.vue\n// module id = 367\n// module chunks = 0 1 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-a2403f3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChatList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4386df3f\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-a2403f3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChatList.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-a2403f3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChatList.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-a2403f3a\",\"scoped\":false,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/components/ChatList.vue\n// module id = 368\n// module chunks = 0 1 3","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-a2403f3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatList.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatList.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a2403f3a\\\"}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatList.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"D:\\\\yotta\\\\college\\\\public_html\\\\assets\\\\yunxin\\\\src\\\\pages\\\\components\\\\ChatList.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] ChatList.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-a2403f3a\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-a2403f3a\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/components/ChatList.vue\n// module id = 369\n// module chunks = 0 1 3","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ChatList from './components/ChatList'\nimport util from '../utils'\nimport pageUtil from '../utils/page'\n\nexport default {\n  beforeMount () {\n    // 如果是刷新页面，重定向至聊天页面\n    if (this.$store.state.isRefresh) {\n      location.href = `#/chat/${this.sessionId}`\n    }\n  },\n  mounted () {\n    this.$store.dispatch('resetNoMoreHistoryMsgs')\n    this.getHistoryMsgs()\n  },\n  updated () {\n    let tempPagePos = pageUtil.getChatListHeight()\n    pageUtil.scrollChatListDown(tempPagePos - this.currPagePos)\n    this.currPagePos = tempPagePos\n  },\n  components: {\n    ChatList\n  },\n  data () {\n    return {\n      leftBtnOptions: {\n        backText: ' ',\n        preventGoBack: true,\n      },\n      currPagePos: 0,\n      // selectedDate: ''\n    }\n  },\n  computed: {\n    sessionId () {\n      return this.$route.params.sessionId\n    },\n    sessionName () {\n      let sessionId = this.sessionId\n      let user = null\n      if (/^p2p-/.test(sessionId)) {\n        user = sessionId.replace(/^p2p-/, '')\n        if (user === this.$store.state.userUID) {\n          return '我的手机'\n        } else if (this.isRobot) {\n          return this.robotInfos[user].nick || user\n        } else {\n          let userInfo = this.userInfos[user] || {}\n          return util.getFriendAlias(userInfo)\n        }\n      } else if (/^team-/.test(sessionId)) {\n        return '群'\n      }\n    },\n    // 判断是否是机器人\n    isRobot () {\n      let sessionId = this.sessionId\n      let user = null\n      if (/^p2p-/.test(sessionId)) {\n        user = sessionId.replace(/^p2p-/, '')\n        if (this.robotInfos[user]) {\n          return true\n        }\n      }\n      return false\n    },\n    myInfo () {\n      return this.$store.state.myInfo\n    },\n    userInfos () {\n      return this.$store.state.userInfos\n    },\n    msglist () {\n      let msgs = this.$store.state.currSessionMsgs\n      return msgs\n    },\n    robotInfos () {\n      return this.$store.state.robotInfos\n    },\n    scene () {\n      return util.parseSession(this.sessionId).scene\n    },\n    to () {\n      return util.parseSession(this.sessionId).to\n    },\n    canLoadMore () {\n      return !this.$store.state.noMoreHistoryMsgs\n    }\n  },\n  methods: {\n    getHistoryMsgs () {\n      if (this.canLoadMore) {\n        this.$store.dispatch('getHistoryMsgs', {\n          scene: this.scene,\n          to: this.to\n        })\n      }\n    },\n    loadMore () {\n      if (pageUtil.getChatListScroll() <= 5) {\n        this.getHistoryMsgs()\n      }\n    },\n    onClickBack: function () {\n      // location.href = `#/chat/${this.sessionId}`\n      window.history.go(-1)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ChatHistory.vue","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.p-chat-history .m-chat-main[data-v-4c34d660] {\\n    padding: 0;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"D:/yotta/college/public_html/assets/yunxin/src/pages/ChatHistory.vue\"],\"names\":[],\"mappings\":\";AAyIE;IACE,WAAW;CACZ\",\"file\":\"ChatHistory.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.p-chat-history {\\n  .m-chat-main {\\n    padding: 0;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-4c34d660\",\"scoped\":true,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/ChatHistory.vue\n// module id = 399\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"g-inherit m-article p-chat-history\"\n  }, [_c('x-header', {\n    staticClass: \"m-tab\",\n    attrs: {\n      \"left-options\": _vm.leftBtnOptions\n    },\n    on: {\n      \"on-click-back\": _vm.onClickBack\n    }\n  }, [_c('h1', {\n    staticClass: \"m-tab-top\"\n  }, [_vm._v(_vm._s(_vm.sessionName))]), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"slot\": \"left\"\n    },\n    slot: \"left\"\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"m-chat-main\"\n  }, [_c('chat-list', {\n    directives: [{\n      name: \"touch\",\n      rawName: \"v-touch:swipedown\",\n      value: (_vm.loadMore),\n      expression: \"loadMore\",\n      arg: \"swipedown\"\n    }],\n    ref: \"chatlist\",\n    attrs: {\n      \"type\": \"session\",\n      \"canLoadMore\": _vm.canLoadMore,\n      \"msglist\": _vm.msglist,\n      \"userInfos\": _vm.userInfos,\n      \"myInfo\": _vm.myInfo\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-4c34d660\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c34d660\"}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/ChatHistory.vue\n// module id = 410\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-4c34d660\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChatHistory.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0b45ec7a\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-4c34d660\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChatHistory.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?sourceMap!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-4c34d660\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChatHistory.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-4c34d660\",\"scoped\":true,\"hasInlineConfig\":true}!./~/vux-loader/src/style-loader.js!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/ChatHistory.vue\n// module id = 424\n// module chunks = 3"],"sourceRoot":""}